#作业总结

## 设计了一个电商平台的简单表结构

 workbench里面的结构文件 已经上传在bussiness.mwb中，具体结构如下
 
 ```
 -- MySQL Script generated by MySQL Workbench
 -- Wed Nov 25 17:51:40 2020
 -- Model: New Model    Version: 1.0
 -- MySQL Workbench Forward Engineering
 
 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';
 
 -- -----------------------------------------------------
 -- Schema mydb
 -- -----------------------------------------------------
 
 -- -----------------------------------------------------
 -- Schema mydb
 -- -----------------------------------------------------
 CREATE SCHEMA IF NOT EXISTS `mydb` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;
 USE `mydb` ;
 
 -- -----------------------------------------------------
 -- Table `mydb`.`order`
 -- -----------------------------------------------------
 DROP TABLE IF EXISTS `mydb`.`order` ;
 
 CREATE TABLE IF NOT EXISTS `mydb`.`order` (
   `id` INT NOT NULL,
   `user_id` INT NOT NULL,
   `pay_price` BIGINT NOT NULL COMMENT '支付价格，单位厘',
   `create_time` BIGINT NOT NULL COMMENT '参考老师建议，使用bigint来存储毫秒数',
   `update_time` BIGINT NOT NULL,
   `state` INT NOT NULL DEFAULT 1 COMMENT '订单状态 0-失效  1-创建 2-已付款 3-已退款 4-已发货\n',
   `pay_type` TINYINT NOT NULL COMMENT '付款方式 1-支付宝 2-微信 3-银联',
   `out_trade_no` VARCHAR(45) NULL COMMENT '外部交易订单号 如支付宝支付订单号',
   `location_details` VARCHAR(450) NULL COMMENT '地址详情\n',
   PRIMARY KEY (`id`))
 ENGINE = InnoDB;
 
 
 -- -----------------------------------------------------
 -- Table `mydb`.`user`
 -- -----------------------------------------------------
 DROP TABLE IF EXISTS `mydb`.`user` ;
 
 CREATE TABLE IF NOT EXISTS `mydb`.`user` (
   `id` INT NOT NULL AUTO_INCREMENT,
   `user_name` VARCHAR(45) NULL COMMENT '登录用户名',
   `password` VARCHAR(45) NULL,
   `salt` CHAR(8) NULL,
   `rank` TINYINT NULL COMMENT '用户等级等',
   PRIMARY KEY (`id`))
 ENGINE = InnoDB;
 
 
 -- -----------------------------------------------------
 -- Table `mydb`.`snapshot`
 -- -----------------------------------------------------
 DROP TABLE IF EXISTS `mydb`.`snapshot` ;
 
 CREATE TABLE IF NOT EXISTS `mydb`.`snapshot` (
   `id` INT NOT NULL COMMENT '交易订单产品快照\n\n\n',
   `order_id` INT NOT NULL COMMENT '订单id\n',
   `product_id` INT NOT NULL COMMENT '产品id\n',
   `name` VARCHAR(45) NULL,
   `price` INT NULL,
   `imgs` VARCHAR(45) NULL COMMENT '图片',
   `quantity` VARCHAR(45) NULL COMMENT '数量\n',
   PRIMARY KEY (`id`))
 ENGINE = InnoDB;
 
 
 -- -----------------------------------------------------
 -- Table `mydb`.`address`
 -- -----------------------------------------------------
 DROP TABLE IF EXISTS `mydb`.`address` ;
 
 CREATE TABLE IF NOT EXISTS `mydb`.`address` (
   `id` INT NOT NULL,
   `area_id` INT NOT NULL COMMENT '地区id',
   `location` VARCHAR(300) NULL,
   `receive_name` VARCHAR(45) NULL COMMENT '收件人名称',
   `phone` VARCHAR(13) NULL COMMENT '联系手机电话',
   `location_details` VARCHAR(450) NULL COMMENT '地址详情，构成的地址详单，方便发货打印详单，冗余-是否有必要\n')
 ENGINE = InnoDB;
 
 
 -- -----------------------------------------------------
 -- Table `mydb`.`area`
 -- -----------------------------------------------------
 DROP TABLE IF EXISTS `mydb`.`area` ;
 
 CREATE TABLE IF NOT EXISTS `mydb`.`area` (
   `id` INT NOT NULL AUTO_INCREMENT,
   `parent_id` INT NOT NULL DEFAULT 0,
   `name` VARCHAR(45) NULL,
   `country` VARCHAR(45) NULL COMMENT '直接国家编码',
   PRIMARY KEY (`id`))
 ENGINE = InnoDB;
 
 
 -- -----------------------------------------------------
 -- Table `mydb`.`country`
 -- -----------------------------------------------------
 DROP TABLE IF EXISTS `mydb`.`country` ;
 
 CREATE TABLE IF NOT EXISTS `mydb`.`country` (
   `id` INT NOT NULL AUTO_INCREMENT,
   `name` VARCHAR(45) NULL COMMENT '国家名称\n',
   PRIMARY KEY (`id`))
 ENGINE = InnoDB;
 
 
 -- -----------------------------------------------------
 -- Table `mydb`.`product`
 -- -----------------------------------------------------
 DROP TABLE IF EXISTS `mydb`.`product` ;
 
 CREATE TABLE IF NOT EXISTS `mydb`.`product` (
   `id` INT NOT NULL AUTO_INCREMENT,
   `name` VARCHAR(45) NOT NULL,
   `price` INT NOT NULL COMMENT '单位厘',
   `state` TINYINT NOT NULL COMMENT '0-下架  1-上架\n',
   `imgs` VARCHAR(400) NULL COMMENT '商品图片, 分隔\n',
   PRIMARY KEY (`id`))
 ENGINE = InnoDB;
 
 
 SET SQL_MODE=@OLD_SQL_MODE;
 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

 ```
 
 
 ## 数据库设计优化等经验总金额